-- 01_create_holidays_and_audit_tables.sql
SET FEEDBACK ON
CREATE TABLE HOLIDAYS (
  HOLIDAY_DATE DATE PRIMARY KEY,
  DESCRIPTION  VARCHAR2(200)
);

CREATE TABLE AUDIT_DML_LOG (
  AUDIT_ID      NUMBER GENERATED ALWAYS AS IDENTITY PRIMARY KEY,
  EVENT_TS      TIMESTAMP   DEFAULT SYSTIMESTAMP,
  USERNAME      VARCHAR2(200),
  USER_ROLE     VARCHAR2(100),
  OPERATION     VARCHAR2(10),         -- INSERT/UPDATE/DELETE
  OBJECT_NAME   VARCHAR2(128),       -- table name
  ROW_ID_TEXT   VARCHAR2(4000),      -- info on row (if applicable)
  ALLOWED_FLG   CHAR(1),             -- 'Y' or 'N'
  REASON        VARCHAR2(4000)
);

COMMIT;
PROMPT Created HOLIDAYS and AUDIT_DML_LOG
